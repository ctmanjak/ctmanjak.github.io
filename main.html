<html>
	<head>
		<meta charset="utf-8">
		<link type="text/css" href="style.css" rel="stylesheet">
	</head>
	<body>
		<style id="movebg">
			@keyframes movebg
			{
				from{background-position:0px 0px;}
				to{background-position:-500px 0px;}
			}
		</style>
		<div class="startgame">
			<input type="button" id="startgamebt" value="게임시작">
		</div>
		<div class="front">
		</div>
		<div class="frame">
			<div class="player_info_frame">
				<div class="player_info">
					<div class="player_info_name">
						<span id="char_name">?</span>
					</div>
					<center>
					<input type="button" id="save" value="저장">
					<input type="button" id="load" value="불러오기">
					</center>
					<div class="player_info_lvlxp">레벨 : <span id="level">0</span> 경험치 : <span id="exp_level">0</span>/<span id="lvlup_exp">0</span></div>
					<div class="player_info_stat">
						<div class="player_stat">힘 : <span id="stat_str">0</span><br>민첩 : <span id="stat_agi">0</span><br>지능 : <span id="stat_int">0</span><br>인내 : <span id="stat_end">0</span></div>
						<div class="inc_stat hide"><input type="button" id="stat_str" value="+"><br><input type="button" id="stat_agi" value="+"><br><input type="button" id="stat_int" value="+"><br><input type="button" id="stat_end" value="+"></div>
						SP : <span id="sp">0</span><br>
						HP : <span id="hp">0</span> / <span id="max_hp">0</span><br>MP : <span id="mp">0</span> / <span id="max_mp">0</span><br>공격력 : <span id="ad">0</span><br>공격속도 : <span id="as">0</span><br>
						방어력 : <span id="armor">0</span><br>마법저항력 : <span id="resist">0</span><br>돈 : <span id="money">0</span>
					</div>
				</div>
			</div>
			<!--<div class="player_list">
			</div>-->
			<div class="player_effect">
				<ul id="passive"></ul>
				<div style="margin:0px"></div>
				<ul id="active"></ul>
			</div>
			<div class='effect_detail hide'><div class='effect_intensity'></div></div>
			<div class="npc_info_frame">
				<div class="npc_info">
					<ul>
						
					</ul>
					<div class="npc_info_name">
						<span id="char_name">?</span>
					</div>
					<div class="npc_info_lvlxp">레벨 : <span id="level">?</span></div>	
					<div class="npc_info_stat">
						<div class="npc_stat">힘 : <span id="stat_str">?</span><br>민첩 : <span id="stat_agi">?</span><br>지능 : <span id="stat_int">?</span><br>인내 : <span id="stat_end">?</span></div><br>
						<div class="inc_stat hide"><input type="button" id="stat_str" value="+"><br><input type="button" id="stat_agi" value="+"><br><input type="button" id="stat_int" value="+"><br><input type="button" id="stat_end" value="+"></div>
						HP : <span id="hp">?</span> / <span id="max_hp">?</span><br>MP : <span id="mp">?</span> / <span id="max_mp">?</span><br>공격력 : <span id="ad">?</span><br>공격속도 : <span id="as">?</span><br>
						방어력 : <span id="armor">?</span><br>마법저항력 : <span id="resist">?</span>
					</div>
				</div>
			</div>
			<div class="npc_list">
				<div style="text-align:right;position:absolute;padding:0;margin:0;top:0;right:0;font-size:0.8em">NPC</div>
				<ul>
					
				</ul>
			</div>
			<div class="follower_list">
				<div style="text-align:right;position:absolute;padding:0;margin:0;top:0;right:0;font-size:0.8em">동료</div>
				<ul>
				
				</ul>
			</div>
			<div class="npc_effect">
				<ul id="passive">
				
				</ul>
				<ul id="active">
				
				</ul>
			</div>
			<div class="gamescreen">
				<div class="location_info">
					<div class="location_name">
					</div>
				</div>
				<div class="background">
					<div class="bgimg"></div>
				</div>
				<div class="dialogue_frame">
					<div class="dialogue_text">
						<div class="dialogue_name">
						</div>
						<div class="dialogue_content">
						</div>
					</div>
				</div>
			</div>
			<div class="location_progress">
				<div class="dialogue_text">
					<div class="dialogue_name">
					</div>
					<div class="dialogue_content">
					</div>
				</div>
			</div>
			<div class="user_control">
				<div class="control_category">
					<ul>
						<a href="#" id="controlbox"><li class="active">명령</li></a><a href="#" id="player_inventory"><li>인벤토리</li></a><a href="#" id="active_unit_inventory"><li>선택 유닛 인벤토리</li></a><a href="#" id="quest"><li>퀘스트</li></a>
					</ul>
				</div>
				<div class="controlscreen">
					<div class="controlbox">
						<input type="button" id="test" value="TEST">
						<input type="button" id="explore" value="탐험">
						<input type="button" id="attack" value="공격">
						<input type="button" id="dialogue" value="대화">
						<input type="button" class="hide" id="main_location" value="나가기">
						<input type="button" id="move_location" value="지역 이동">
					</div>
					<div class="player_inventory hide">
						<div class="inventory_list">
							
						</div>
						<div class="equipped_item">
							
						</div>
					</div>
					<div class="active_unit_inventory hide">
						<div class="inventory_list">
							
						</div>
						<div class="equipped_item">
							
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="location_list_frame">
			<div class="location_list_window hide">
				<div style="position:absolute;right:0"><input type="button" class="close" value="닫기"></div>
				<div class="location_category">
					<ul>
						<a href="#" id="sub_location"><li>현재 지역</li></a><a href="#" id="move_location"><li>다른 지역</li></a>
					</ul>
				</div>
				<div class="location_list">
					<ul>
						
					</ul>
				</div>
			</div>
		</div>
		<script src="/js/jquery.min.js"></script>
		<script src="/js/jquery-ui.min.js"></script>
		<script src="game.js"></script>
		<script>
			$(window).on('beforeunload', function(event)
			{
				//$('#save').click();
			});
			
			$("#test").click(function(event)
			{
				event.preventDefault();
				convertType(active_unit);
			});
			var inventory_item_info = {};
			var active_unit_inventory = {};
			var reloadEffectlist = function(target)
			{
				$(".npc_effect > ul").empty();
				for(var effect in target.magic_effect)
				{
					addEffectlist(target, target.magic_effect[effect]);
				}
			}
			var addEffectlist = function(target, effect)
			{
				if(target != active_unit && target != player) return;
				var effect_name = effect['effect_name'];
				var effect_info = "";
				for(var a = 0; a < effect['effect'].length; a++)
				{
					if(effect['effect'][a]['type'] == "ad") effect_info += "공격력";
					else if(effect['effect'][a]['type'] == "as") effect_info += "공격속도";
					else if(effect['effect'][a]['type'] == "hp") effect_info += "HP";
					else if(effect['effect'][a]['type'] == "mp") effect_info += "MP";
					else if(effect['effect'][a]['type'] == "ms") effect_info += "이동속도";
					else if(effect['effect'][a]['type'] == "armor") effect_info += "방어력";
					else if(effect['effect'][a]['type'] == "resist") effect_info += "마법저항력";
					else if(effect['effect'][a]['type'] == "stat_str") effect_info += "힘";
					else if(effect['effect'][a]['type'] == "stat_agi") effect_info += "민첩";
					else if(effect['effect'][a]['type'] == "stat_int") effect_info += "지능";
					else if(effect['effect'][a]['type'] == "stat_end") effect_info += "인내";
					if(effect['effect'][a]['id'] == magic_effect_id["buff"])
					{
						effect_info += "+";
					}
					else if(effect['effect'][a]['id'] == magic_effect_id["debuff"])
					{
						effect_info += "-";
					}
					effect_info += effect['effect'][a]['intensity']+(effect['effect'][a]['intensity_type']=="percent"?"%<br>":"<br>");
				}
				if(effect['duration'] == "passive")
				{
					if(target == player) $(".player_effect > ul#passive").append("<li id='"+effect_name+"'>"+effect['name']+"</li>");
					else $(".npc_effect > ul#passive").append("<li id='"+effect_name+"'>"+effect['name']+"</li>");
				}
				else 
				{
					if(target == player) $(".player_effect > ul#active").append("<li id='"+effect_name+"'>"+effect['name']+" <span id='duration'>"+effect['duration']+"</span></li>");
					else $(".npc_effect > ul#active").append("<li id='"+effect_name+"'>"+effect['name']+" <span id='duration'>"+effect['duration']+"</span></li>");
				}
			}
			var reloadInventory = function(target)
			{
				active_unit_inventory = {};
				$(".active_unit_inventory > .inventory_list").empty();
				
				$.ajax({
					url:"item.json",
					dataType:"json",
					type:"post",
					async:false,
					success:function(result)
					{
						if(active_unit_inventory === undefined) active_unit_inventory = {};
						if(target.inventory === undefined) target.inventory = {};
						for(var item in target.inventory)
						{
							active_unit_inventory[item] = result[target.inventory[item]];
						}
					}
				});
				for(var i = 0; i < Object.keys(target.inventory).length; i++)
				{
					addInventory(target, Object.keys(target.inventory)[i]);
				}
			}
			$("body").on({
			mouseenter : function(event)
			{
				var left = $(this).parent().offset()['left']-$(".controlscreen").offset()['left'];
				$(this).parent().css("z-index", "2");
				$(this).parent().next().removeClass("hide");
				$(this).parent().next().css("left", left);
			},
			mouseleave : function(event)
			{
				$(this).parent().css("z-index", "0");
				$(this).parent().next().addClass("hide");
			}}, ".select_item");
			$("body").on("click",".player_inventory .select_item",function(event)
			{
				var item_effects = [];
				event.preventDefault();
				var item_type = inventory_item_info[$(this).attr("id").split("_")[1]]['type'];
				var item_effect = inventory_item_info[$(this).attr("id").split("_")[1]]['item_effect'];
				if(item_type == "equip") equipItem(player, $(this).attr("id").split("_")[1]);
				else if(item_type == "consume")
				{
					for(var i = 0; i < item_effect.length; i++)
					{
						item_effect[i]['name'] = inventory_item_info[$(this).attr("id").split("_")[1]]['name'];
						item_effects.push(item_effect[i]);
					}
					addMagicEffect(player, {name:inventory_item_info[$(this).attr("id").split("_")[1]]['name'],effect_name:"consume_"+$(this).attr("id").split("_")[1], duration:inventory_item_info[$(this).attr("id").split("_")[1]]['effect_duration'], effect:item_effects});
					delItem(player, $(this).attr("id").split("_")[1]);
				}
			});
			$("body").on("click",".active_unit_inventory .select_item",function(event)
			{
				var item_effects = [];
				event.preventDefault();
				var item_type = active_unit_inventory[$(this).attr("id").split("_")[1]]['type'];
				var item_effect = active_unit_inventory[$(this).attr("id").split("_")[1]]['item_effect'];
				if(item_type == "equip") equipItem(active_unit, $(this).attr("id").split("_")[1]);
				else if(item_type == "consume")
				{
					for(var i = 0; i < item_effect.length; i++)
					{
						item_effect[i]['name'] = active_unit_inventory[$(this).attr("id").split("_")[1]]['name'];
						item_effects.push(item_effect[i]);
					}
					addMagicEffect(active_unit, {name:active_unit_inventory[$(this).attr("id").split("_")[1]]['name'],effect_name:"consume_"+$(this).attr("id").split("_")[1], duration:inventory_item_info[$(this).attr("id").split("_")[1]]['effect_duration'], effect:item_effects});
					delItem(active_unit, $(this).attr("id").split("_")[1]);
				}
			});
			var delItem = function(target, item_id)
			{
				if(target == player) delete inventory_item_info[item_id];
				else delete active_unit.inventory[item_id];
				$(".player_inventory #item_"+item_id).parent().next().remove();
				$(".player_inventory #item_"+item_id).parent().remove();
				//reloadInventory(target);
			}
			var equipItem = function(target, item)
			{
				var item_id = item;
				var item;
				if(target == player) item = inventory_item_info[item_id];
				else item = active_unit_inventory[item_id];
				var equip_state = 0;
				var item_effects = [];
				for(var slot in target.equip_slot)
				{
					if(item === undefined) item = {};
					if(slot == item.equip_slot)
					{
						if(slot == "w_hands")
						{
							if(item.weapon_type == "twohands" || item.weapon_type == "range" )
							{
								for(var i = 0; i < target.equip_slot[slot].length ; i++)
								{
									if(target.equip_slot[slot][i] != "none" && target.equip_slot[slot][i] != item_id)
									{
										equipItem(target, target.equip_slot[slot][i]);
										if(i == 1)
										{
											target.equip_slot[slot][0] = item_id;
											target.equip_slot[slot][1] = item_id;
											equip_state = 1;
										}
									}
									else if(target.equip_slot[slot][i] == item_id)
									{
										target.equip_slot[slot][0] = "none";
										target.equip_slot[slot][1] = "none";
										equip_state = 2;
										break;
									}
									else if(target.equip_slot[slot][0] == "none" && target.equip_slot[slot][1] == "none")
									{
										target.equip_slot[slot][0] = item_id;
										target.equip_slot[slot][1] = item_id;
										equip_state = 1;
										break;
									}
								}
							}
							else
							{
								for(var i = 0; i < target.equip_slot[slot].length ; i++)
								{
									if(target.equip_slot[slot][0] == "none" && target.equip_slot[slot][1] != item_id)
									{
										target.equip_slot[slot][i] = item_id;
										equip_state = 1;
										break;
									}
									else if(target.equip_slot[slot][i] == item_id)
									{
										target.equip_slot[slot][i] = "none";
										equip_state = 2;
										break;
									}
									else
									{
										if(i == 0) continue;
										equipItem(target, target.equip_slot[slot][i]);
										target.equip_slot[slot][i] = item_id;
										equip_state = 1;
									}
								}
							}
						}
						else
						{
							if(target.equip_slot[slot] == "none")
							{
								target.equip_slot[slot] = item_id;
								equip_state = 1;
							}
							else if(target.equip_slot[slot] == item_id)
							{
								target.equip_slot[slot] = "none";
								equip_state = 2;
							}
							else
							{
								equipItem(target, target.equip_slot[slot]);
								target.equip_slot[slot] = item_id;
								equip_state = 1;
							}
						}
						break;
					}
				}
				if(equip_state == 1)
				{
					for(var i = 0; i < item.item_effect.length; i++)
					{
						if(item.item_effect[i] === undefined) item.item_effect[i] = {};
						item_effects.push(item.item_effect[i]);
						/*if(item.item_effect[i]['id'] == magic_effect_id['buff'])
						{
							if(item.item_effect[i]['intensity_type'] == "value")
							{
								target[item.item_effect[i]['type']] += parseInt(item.item_effect[i]['intensity']);
							}
							else
							{
								target[item.item_effect[i]['type']] += (parseInt(item.item_effect[i]['intensity'])*0.01)*target["base_"+item.item_effect[i]['type']];
							}
						}
						else if(item.item_effect[i]['id'] == magic_effect_id['debuff'])
						{
							if(item.item_effect[i]['intensity_type'] == "value")
							{
								target[item.item_effect[i]['type']] -= parseInt(item.item_effect[i]['intensity']);
							}
							else
							{
								target[item.item_effect[i]['type']] -= (parseInt(item.item_effect[i]['intensity'])*0.01)*target["base_"+item.item_effect[i]['type']];
							}
						}*/
					}
					addMagicEffect(target, {name:item['name'], effect_name:"equip_"+item_id, duration:"passive", effect:item_effects});
					//reload(target, item.item_effect[i]['type']);
					if(target == player) $(".player_inventory .select_item#item_"+item_id).parent().addClass("equipped");
					else $(".active_unit_inventory .select_item#item_"+item_id).parent().addClass("equipped");
				}
				else if(equip_state == 2)
				{
					for(var i = 0; i < item.item_effect.length; i++)
					{
						if(item.item_effect[i] === undefined) item.item_effect[i] = {};
						adjustMagicEffect(item.item_effect[i], {name:item['name'], effect_id:"item_"+item_id});
						
						/*if(item.item_effect[i]['id'] == magic_effect_id['buff'])
						{
							if(item.item_effect[i]['intensity_type'] == "value")
							{
								target[item.item_effect[i]['type']] -= parseInt(item.item_effect[i]['intensity']);
							}
							else
							{
								target[item.item_effect[i]['type']] -= (parseInt(item.item_effect[i]['intensity'])*0.01)*target["base_"+item.item_effect[i]['type']];
							}
						}
						else if(item.item_effect[i]['id'] == magic_effect_id['debuff'])
						{
							if(item.item_effect[i]['intensity_type'] == "value")
							{
								target[item.item_effect[i]['type']] += parseInt(item.item_effect[i]['intensity']);
							}
							else
							{
								target[item.item_effect[i]['type']] += (parseInt(item.item_effect[i]['intensity'])*0.01)*target["base_"+item.item_effect[i]['type']];
							}
						}*/
						reload(target, item.item_effect[i]['type']);
					}
					delMagicEffect(target, "equip_"+item_id);
					if(target == player) $(".player_inventory .select_item#item_"+item_id).parent().removeClass("equipped");
					else $(".active_unit_inventory .select_item#item_"+item_id).parent().removeClass("equipped");
				}
			}
			var giveItem = function(target, id, num)
			{
				var num = num || 1;
				if(num < 0) return;
				$.ajax({
					url:"item.json",
					dataType:"json",
					type:"post",
					async:false,
					success:function(result)
					{
						if(inventory_item_info === undefined) inventory_item_info = {};
						if(target.inventory === undefined) target.inventory = {};
						if(target == player)
						{
							while(num--)
							{
								target.inventory[Object.keys(target.inventory).length] = id;
								inventory_item_info[Object.keys(inventory_item_info).length] = result[id];
								inventory_item_info[Object.keys(inventory_item_info).length-1]['id'] = id;
								addInventory(target, Object.keys(inventory_item_info).length-1);
							}
						}
						else
						{
							while(num--)
							{
								target.inventory[Object.keys(target.inventory).length] = id;
								active_unit_inventory[Object.keys(active_unit_inventory).length] = result[id];
								active_unit_inventory[Object.keys(active_unit_inventory).length-1]['id'] = id;
								addInventory(target, Object.keys(active_unit_inventory).length-1);
							}
						}
					}
				});
			}
			var getEffectInfo = function(effect)
			{
				var effect_info = "";
				for(var a = 0; a < effect['effect'].length; a++)
				{
					if(effect['effect'][a]['type'] == "ad") effect_info += "공격력";
					else if(effect['effect'][a]['type'] == "as") effect_info += "공격속도";
					else if(effect['effect'][a]['type'] == "hp") effect_info += "HP";
					else if(effect['effect'][a]['type'] == "mp") effect_info += "MP";
					else if(effect['effect'][a]['type'] == "ms") effect_info += "이동속도";
					else if(effect['effect'][a]['type'] == "armor") effect_info += "방어력";
					else if(effect['effect'][a]['type'] == "resist") effect_info += "마법저항력";
					else if(effect['effect'][a]['type'] == "stat_str") effect_info += "힘";
					else if(effect['effect'][a]['type'] == "stat_agi") effect_info += "민첩";
					else if(effect['effect'][a]['type'] == "stat_int") effect_info += "지능";
					else if(effect['effect'][a]['type'] == "stat_end") effect_info += "인내";
					if(effect['effect'][a]['id'] == magic_effect_id["buff"])
					{
						effect_info += "+";
					}
					else if(effect['effect'][a]['id'] == magic_effect_id["debuff"])
					{
						effect_info += "-";
					}
					effect_info += effect['effect'][a]['intensity']+(effect['effect'][a]['intensity_type']=="percent"?"%<br>":"<br>");
				}
				return effect_info;
			}
			var addInventory = function(target, id)
			{
				var i = id;
				var item_info;
				if(target == player) item_info = inventory_item_info[i];
				else item_info = active_unit_inventory[i];
				var item_id = item_info['id'];
				var item_name = item_info['name'];
				var item_image = "/item/"+item_info['image'];
				var item_desc = item_info['desc'];
				var item_duration;
				if(item_info['effect_duration'] == undefined) item_duration = "";
				else item_duration = "지속시간 : "+item_info['effect_duration']+"초<br>";
				var item_effects = item_info['item_effect'];
				var item_effect = "<li>";
				for(var j = 0; j < item_effects.length; j++)
				{
					if(item_effects[j]['type'] == "ad") item_effect += "공격력";
					else if(item_effects[j]['type'] == "as") item_effect += "공격속도";
					else if(item_effects[j]['type'] == "hp") item_effect += "HP";
					else if(item_effects[j]['type'] == "mp") item_effect += "MP";
					else if(item_effects[j]['type'] == "ms") item_effect += "이동속도";
					else if(item_effects[j]['type'] == "armor") item_effect += "방어력";
					else if(item_effects[j]['type'] == "resist") item_effect += "마법저항력";
					else if(item_effects[j]['type'] == "stat_str") item_effect += "힘";
					else if(item_effects[j]['type'] == "stat_agi") item_effect += "민첩";
					else if(item_effects[j]['type'] == "stat_int") item_effect += "지능";
					else if(item_effects[j]['type'] == "stat_end") item_effect += "인내";
					if(item_effects[j]['id'] == magic_effect_id["buff"])
					{
						item_effect += "+";
					}
					else if(item_effects[j]['id'] == magic_effect_id["debuff"])
					{
						item_effect += "-";
					}
					item_effect += item_effects[j]['intensity']+(item_effects[j]['intensity_type']=="percent"?"%<br>":"<br>");
				}
				var item_slot;
				if(item_info['type'] == "consume") item_slot = "소모품";
				else if(item_info['type'] == "etc") item_slot = "기타";
				else if(item_info['equip_slot'] == "head")
				{
					item_slot = "투구";
				}
				else if(item_info['equip_slot'] == "u_body")
				{
					item_slot = "갑옷";
				}
				else if(item_info['equip_slot'] == "l_body")
				{
					item_slot = "바지";
				}
				else if(item_info['equip_slot'] == "a_hands")
				{
					item_slot = "장갑";
				}
				else if(item_info['equip_slot'] == "foot")
				{
					item_slot = "신발";
				}
				else if(item_info['equip_slot'] == "w_hands")
				{
					item_slot = "무기";
				}
				item_effect += "</li>";
				if(target == player) $(".player_inventory .inventory_list").append('<div class="inventory_item"><a href="#" class="select_item" id="item_'+i+'"><div class="inventory_image"><img src="'+item_image+'"></div></a></div><div class="item_detail hide"><div class="item_header"><div class="item_name">'+item_name+'</div><div class="item_slot">'+item_slot+'</div></div><div class="item_content"><div class="h_line"></div><div class="item_desc">'+item_desc+'</div><div class="h_line"></div><div class="item_effect"><ul><div class="item_duration">'+item_duration+"</div>"+item_effect+'</ul></div></div></div></div>');
				else $(".active_unit_inventory .inventory_list").append('<div class="inventory_item"><a href="#" class="select_item" id="item_'+i+'"><div class="inventory_image"><img src="'+item_image+'"></div></a></div><div class="item_detail hide"><div class="item_header"><div class="item_name">'+item_name+'</div><div class="item_slot">'+item_slot+'</div></div><div class="item_content"><div class="h_line"></div><div class="item_desc">'+item_desc+'</div><div class="h_line"></div><div class="item_effect"><ul><div class="item_duration">'+item_duration+"</div>"+item_effect+'</ul></div></div></div></div>');
				for(var slot in target.equip_slot)
				{
					if(slot == "w_hands")
					{
						if(target.equip_slot[slot][0] == i && target.equip_slot[slot][1] == i)
						{
							if(target == player) $(".player_inventory .select_item#item_"+i).parent().addClass("equipped");
							else $(".active_unit_inventory .select_item#item_"+i).parent().addClass("equipped");
						}
					}
					else if(target.equip_slot[slot] == i)
					{
						if(target == player) $(".player_inventory .select_item#item_"+i).parent().addClass("equipped");
						else $(".active_unit_inventory .select_item#item_"+i).parent().addClass("equipped");
					}
				}
			}
			$("body").on({
			mouseenter : function(event)
			{
				$(".effect_detail").removeClass("hide");
				$(".effect_detail").css("top", $(this).offset().top+$(this).height()+2);
				$(".effect_detail").css("left", $(this).offset().left-8);
				$(".effect_detail").css("width", $(this).width());
				$(".effect_intensity").html(getEffectInfo(player.magic_effect[$(this).attr("id")]));
				$(".effect_detail").css("z-index", "1");
			},
			mouseleave : function(event)
			{
				//$(".effect_detail_line").addClass("hide");
				$(".effect_detail").addClass("hide");
			}}, ".player_effect > ul li");
			/*$("#player_inventory").click(function(event)
			{
				reloadInventory(player);
			});*/
			/*$("#active_unit_inventory").click(function(event)
			{
				reloadInventory(active_unit);
			});*/
			// SAVE LOAD STARTGAME
			/*$('#startgamebt').click(function()
			{
				event.preventDefault();*/
			$(document).ready(function()
			{
				player = new Player();
				player.createPlayer();
				player.char_name = "asdf";
				$('.player_list').append(player['char_name']+" <span id='hp'>"+player['hp']+"</span>/<span id='max_hp'>"+player['max_hp']+"</span>");
				$(".startgame").addClass("hide");
				//$(".select_follower")[0].click();
				giveItem(player, 0);
				giveItem(player, 1);
				giveItem(player, 2, 2);
				giveItem(player, 3,10);
				giveItem(player, 4);
				giveItem(player, 5);
				reload(player);
				moveLocation(0);
				if(active_unit.sp > 0) $(".inc_stat").removeClass("hide");
				//$("#test").click();
			});
		</script>
	</body>
</html>